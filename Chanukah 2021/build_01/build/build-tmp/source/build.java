/* autogenerated by Processing revision 1278 on 2023-06-18 */
import processing.core.*;
import processing.data.*;
import processing.event.*;
import processing.opengl.*;

import processing.svg.*;
import java.text.SimpleDateFormat;
import java.util.Date;

import java.util.HashMap;
import java.util.ArrayList;
import java.io.File;
import java.io.BufferedReader;
import java.io.PrintWriter;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.IOException;

public class build extends PApplet {




boolean exportSVG = false;
PShape  guide;
String  fileName;
int u;
 public void setup() {
	guide = loadShape("../../guide.svg");
	/* size commented out by preprocessor */;
	background(255);
	guides();
	noFill();
	stroke(0);
	u = width / 21;
}
 public void draw() {
	if (exportSVG) {
		fileName = new SimpleDateFormat("yyyyMMddHHmmss").format(new Date());
		beginRecord(SVG, "../exports/svgs/" + fileName + ".svg");
	}
//--------------------------------------------
	float y1 = u * 7;
	float y2;
	float x;
	triangle(u * 2, u * 7, width / 2, height - u * 2, width - u * 2, u * 7);
	line(u * 8, height - u * 2, u * 13, height - u * 2);
	for (float i = 1; i <= 16; i++) {
		x = u * 2 + i * u;
		if (i < 9) {
			y2 = ((i * 12) / 8.5f) * u;
			line(x, y1, x, y1 + y2);
		} else {
			float t = (i - 8.5f) * 2;
			y2 = (((i - t) * 12) / 8.5f) * u;
			line(x, y1, x, y1 + y2);
		}
	}
	for (int i = 0; i < 9; i++) {
		pushMatrix();
		translate(u * 2, u * 7);
		x(i * u * 2, 0);
		popMatrix();
	}
	for (int i = 0; i < 2; i++) {
		pushMatrix();
		translate(u * 10, u * 6);
		x(0, i * -u);
		popMatrix();
	}

	for (int i = 0; i < 9; i++) {
		pushMatrix();
		translate(u * 2, u * 4);
		if (i == 4) {
			square(i * u * 2, -u * 2, u);
		} else {
			square(i * u * 2, 0, u);
		}
		popMatrix();
	}
//--------------------------------------------
	if (exportSVG) {
		endRecord();
		exportSVG = false;
	}
}
 public void keyPressed() {
	if (key == 'e') {
		exportSVG = true;
	}
}
 public void grid(int count) {
	int cell = width / count;
	int area = count * (height / cell);
	for (int n = 0; n < area; n++) {
		int x = (n % count) * cell;
		int y = (n / count) * cell;
		stroke(0, 20);
		noFill();
		square(x, y, cell);
	}
}
 public void guides() {
	fill(0xFF47D7FF, 100);
	noStroke();
	guide.disableStyle();
	shape(guide, 0, 0, width, height);
	grid(21);
}
 public void x(float x, float y) {
	beginShape();
	vertex(x, y);
	vertex(x + u, y - u);
	vertex(x, y - u);
	vertex(x + u, y);
	endShape(OPEN);
}


  public void settings() { size(630, 630); }

  static public void main(String[] passedArgs) {
    String[] appletArgs = new String[] { "build" };
    if (passedArgs != null) {
      PApplet.main(concat(appletArgs, passedArgs));
    } else {
      PApplet.main(appletArgs);
    }
  }
}
